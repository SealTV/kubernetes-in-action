{ "kind": "PodList", "apiVersion": "v1", "metadata": { "selfLink": "/api/v1/pods", "resourceVersion": "3815241" }, "items": [ { "metadata": { "name": "curl-custo-sa", "namespace": "default", "selfLink": "/api/v1/namespaces/default/pods/curl-custo-sa", "uid": "4838f6d0-9847-11e9-8fc9-42010aa600c2", "resourceVersion": "3813334", "creationTimestamp": "2019-06-26T19:19:13Z", "labels": { "name": "curl-custo-sa" } }, "spec": { "volumes": [ { "name": "foo-token-h45xr", "secret": { "secretName": "foo-token-h45xr", "defaultMode": 420 } } ], "containers": [ { "name": "main", "image": "tutum/curl", "command": [ "sleep", "999999999" ], "resources": { "limits": { "cpu": "500m", "memory": "256Mi" }, "requests": { "cpu": "500m", "memory": "256Mi" } }, "volumeMounts": [ { "name": "foo-token-h45xr", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always" }, { "name": "ambasador", "image": "luksa/kubectl-proxy:1.6.2", "resources": { "limits": { "cpu": "500m", "memory": "256Mi" }, "requests": { "cpu": "500m", "memory": "256Mi" } }, "volumeMounts": [ { "name": "foo-token-h45xr", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "foo", "serviceAccount": "foo", "nodeName": "gke-gokubia-default-pool-ed47b068-3fkm", "securityContext": {  }, "schedulerName": "default-scheduler", "tolerations": [ { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 } ], "priority": 0 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-26T19:19:13Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-26T19:19:15Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-26T19:19:15Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-26T19:19:13Z" } ], "hostIP": "10.166.0.52", "podIP": "10.20.0.47", "startTime": "2019-06-26T19:19:13Z", "containerStatuses": [ { "name": "ambasador", "state": { "running": { "startedAt": "2019-06-26T19:19:14Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "luksa/kubectl-proxy:1.6.2", "imageID": "docker-pullable://luksa/kubectl-proxy@sha256:d456d90030fa6befb62d43efd4367c3654fc0538304b9d99d1491d52bcc8a60d", "containerID": "docker://7aabbe5df23d207ef895d8c6c0b32927ff37aa1573ba0e06577672dcbe2ff325" }, { "name": "main", "state": { "running": { "startedAt": "2019-06-26T19:19:14Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "tutum/curl:latest", "imageID": "docker-pullable://tutum/curl@sha256:b6f16e88387acd4e6326176b212b3dae63f5b2134e69560d0b0673cfb0fb976f", "containerID": "docker://eec6f4b08c61714a5dca84bf6aac9f705b74e9c9e32e55282dda3ef4ae4a2b7a" } ], "qosClass": "Guaranteed" } }, { "metadata": { "name": "event-exporter-v0.2.4-5f7d5d7dd4-jtvxq", "generateName": "event-exporter-v0.2.4-5f7d5d7dd4-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/event-exporter-v0.2.4-5f7d5d7dd4-jtvxq", "uid": "7c35fb94-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "612", "creationTimestamp": "2019-06-11T18:55:30Z", "labels": { "k8s-app": "event-exporter", "pod-template-hash": "5f7d5d7dd4", "version": "v0.2.4" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "ReplicaSet", "name": "event-exporter-v0.2.4-5f7d5d7dd4", "uid": "7c34eef8-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "ssl-certs", "hostPath": { "path": "/etc/ssl/certs", "type": "" } }, { "name": "event-exporter-sa-token-jqtk8", "secret": { "secretName": "event-exporter-sa-token-jqtk8", "defaultMode": 420 } } ], "containers": [ { "name": "event-exporter", "image": "k8s.gcr.io/event-exporter:v0.2.4", "command": [ "/event-exporter", "-sink-opts=-stackdriver-resource-model=old" ], "resources": {  }, "volumeMounts": [ { "name": "event-exporter-sa-token-jqtk8", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" }, { "name": "prometheus-to-sd-exporter", "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "command": [ "/monitor", "--stackdriver-prefix=container.googleapis.com/internal/addons", "--api-override=https://monitoring.googleapis.com/", "--source=event_exporter:http://localhost:80?whitelisted=stackdriver_sink_received_entry_count,stackdriver_sink_request_count,stackdriver_sink_successfully_sent_entry_count", "--pod-id=$(POD_NAME)", "--namespace-id=$(POD_NAMESPACE)" ], "env": [ { "name": "POD_NAME", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.name" } } }, { "name": "POD_NAMESPACE", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.namespace" } } } ], "resources": {  }, "volumeMounts": [ { "name": "event-exporter-sa-token-jqtk8", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "event-exporter-sa", "serviceAccount": "event-exporter-sa", "nodeName": "gke-gokubia-default-pool-ed47b068-xm8s", "securityContext": {  }, "schedulerName": "default-scheduler", "tolerations": [ { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 } ], "priority": 0 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:46Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:54Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:54Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:45Z" } ], "hostIP": "10.166.0.46", "podIP": "10.20.1.3", "startTime": "2019-06-11T18:55:46Z", "containerStatuses": [ { "name": "event-exporter", "state": { "running": { "startedAt": "2019-06-11T18:55:49Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/event-exporter:v0.2.4", "imageID": "docker-pullable://k8s.gcr.io/event-exporter@sha256:16ca66e2b5dc7a1ce6a5aafcb21d0885828b75cdfc08135430480f7ad2364adc", "containerID": "docker://52fa0f20fc252a7dff1b77f61f84d57a42dd4199b754014359ca8bdf4c3ee540" }, { "name": "prometheus-to-sd-exporter", "state": { "running": { "startedAt": "2019-06-11T18:55:50Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "imageID": "docker-pullable://k8s.gcr.io/prometheus-to-sd@sha256:14666989f40bb7c896c3e775a93c6873e2b791d65bc65579f58a078b7f9a764e", "containerID": "docker://94a123843daa7448456563e5f5aa343507452c3d95f9e948257702fcd1b11248" } ], "qosClass": "BestEffort" } }, { "metadata": { "name": "fluentd-gcp-scaler-7b895cbc89-gmjl4", "generateName": "fluentd-gcp-scaler-7b895cbc89-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/fluentd-gcp-scaler-7b895cbc89-gmjl4", "uid": "828bb991-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "642", "creationTimestamp": "2019-06-11T18:55:41Z", "labels": { "k8s-app": "fluentd-gcp-scaler", "pod-template-hash": "7b895cbc89" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "ReplicaSet", "name": "fluentd-gcp-scaler-7b895cbc89", "uid": "8288c193-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "fluentd-gcp-scaler-token-pwjwg", "secret": { "secretName": "fluentd-gcp-scaler-token-pwjwg", "defaultMode": 420 } } ], "containers": [ { "name": "fluentd-gcp-scaler", "image": "k8s.gcr.io/fluentd-gcp-scaler:0.5.1", "command": [ "/scaler.sh", "--ds-name=fluentd-gcp-v3.2.0", "--scaling-policy=fluentd-gcp-scaling-policy" ], "env": [ { "name": "CPU_REQUEST", "value": "100m" }, { "name": "MEMORY_REQUEST", "value": "200Mi" }, { "name": "CPU_LIMIT", "value": "1000m" }, { "name": "MEMORY_LIMIT", "value": "500Mi" } ], "resources": {  }, "volumeMounts": [ { "name": "fluentd-gcp-scaler-token-pwjwg", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "fluentd-gcp-scaler", "serviceAccount": "fluentd-gcp-scaler", "nodeName": "gke-gokubia-default-pool-ed47b068-p4gt", "securityContext": {  }, "schedulerName": "default-scheduler", "tolerations": [ { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 } ], "priority": 0 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:45Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:00Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:00Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:45Z" } ], "hostIP": "10.166.0.53", "podIP": "10.20.2.2", "startTime": "2019-06-11T18:55:45Z", "containerStatuses": [ { "name": "fluentd-gcp-scaler", "state": { "running": { "startedAt": "2019-06-11T18:56:00Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/fluentd-gcp-scaler:0.5.1", "imageID": "docker-pullable://k8s.gcr.io/fluentd-gcp-scaler@sha256:a5ace7506d393c4ed65eb2cbb6312c64ab357fcea16dff76b9055bc6e498e5ff", "containerID": "docker://0cfa8dc184dff051fd7f369c06dadf6807372a33e1da7a3bdc900a82a75de40a" } ], "qosClass": "BestEffort" } }, { "metadata": { "name": "fluentd-gcp-v3.2.0-2mqvb", "generateName": "fluentd-gcp-v3.2.0-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/fluentd-gcp-v3.2.0-2mqvb", "uid": "9781201d-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "3317782", "creationTimestamp": "2019-06-11T18:56:16Z", "labels": { "controller-revision-hash": "5f6f57c9d4", "k8s-app": "fluentd-gcp", "kubernetes.io/cluster-service": "true", "pod-template-generation": "2", "version": "v3.2.0" }, "annotations": { "scheduler.alpha.kubernetes.io/critical-pod": "" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "DaemonSet", "name": "fluentd-gcp-v3.2.0", "uid": "7c5f3203-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "varlog", "hostPath": { "path": "/var/log", "type": "" } }, { "name": "varlibdockercontainers", "hostPath": { "path": "/var/lib/docker/containers", "type": "" } }, { "name": "config-volume", "configMap": { "name": "fluentd-gcp-config-old-v1.2.5", "defaultMode": 420 } }, { "name": "fluentd-gcp-token-fkzzz", "secret": { "secretName": "fluentd-gcp-token-fkzzz", "defaultMode": 420 } } ], "containers": [ { "name": "fluentd-gcp", "image": "gcr.io/stackdriver-agents/stackdriver-logging-agent:0.6-1.6.0-1", "env": [ { "name": "NODE_NAME", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "spec.nodeName" } } }, { "name": "STACKDRIVER_METADATA_AGENT_URL", "value": "http://$(NODE_NAME):8799" } ], "resources": { "limits": { "cpu": "1", "memory": "500Mi" }, "requests": { "cpu": "100m", "memory": "200Mi" } }, "volumeMounts": [ { "name": "varlog", "mountPath": "/var/log" }, { "name": "varlibdockercontainers", "readOnly": true, "mountPath": "/var/lib/docker/containers" }, { "name": "config-volume", "mountPath": "/etc/google-fluentd/config.d" }, { "name": "fluentd-gcp-token-fkzzz", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "livenessProbe": { "exec": { "command": [ "/bin/sh", "-c", "LIVENESS_THRESHOLD_SECONDS=${LIVENESS_THRESHOLD_SECONDS:-300}; STUCK_THRESHOLD_SECONDS=${LIVENESS_THRESHOLD_SECONDS:-900}; if [ ! -e /var/log/fluentd-buffers ]; then\n exit 1;\nfi; touch -d \"${STUCK_THRESHOLD_SECONDS} seconds ago\" /tmp/marker-stuck; if [[ -z \"$(find /var/log/fluentd-buffers -type f -newer /tmp/marker-stuck -print -quit)\" ]]; then\n rm -rf /var/log/fluentd-buffers;\n exit 1;\nfi; touch -d \"${LIVENESS_THRESHOLD_SECONDS} seconds ago\" /tmp/marker-liveness; if [[ -z \"$(find /var/log/fluentd-buffers -type f -newer /tmp/marker-liveness -print -quit)\" ]]; then\n exit 1;\nfi;\n" ] }, "initialDelaySeconds": 600, "timeoutSeconds": 1, "periodSeconds": 60, "successThreshold": 1, "failureThreshold": 3 }, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" }, { "name": "prometheus-to-sd-exporter", "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "command": [ "/monitor", "--stackdriver-prefix=container.googleapis.com/internal/addons", "--api-override=https://monitoring.googleapis.com/", "--source=fluentd:http://localhost:24231?whitelisted=stackdriver_successful_requests_count,stackdriver_failed_requests_count,stackdriver_ingested_entries_count,stackdriver_dropped_entries_count", "--pod-id=$(POD_NAME)", "--namespace-id=$(POD_NAMESPACE)" ], "env": [ { "name": "POD_NAME", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.name" } } }, { "name": "POD_NAMESPACE", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.namespace" } } } ], "resources": {  }, "volumeMounts": [ { "name": "fluentd-gcp-token-fkzzz", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 60, "dnsPolicy": "Default", "nodeSelector": { "beta.kubernetes.io/fluentd-ds-ready": "true" }, "serviceAccountName": "fluentd-gcp", "serviceAccount": "fluentd-gcp", "nodeName": "gke-gokubia-default-pool-ed47b068-3fkm", "hostNetwork": true, "securityContext": {  }, "affinity": { "nodeAffinity": { "requiredDuringSchedulingIgnoredDuringExecution": { "nodeSelectorTerms": [ { "matchFields": [ { "key": "metadata.name", "operator": "In", "values": [ "gke-gokubia-default-pool-ed47b068-3fkm" ] } ] } ] } } }, "schedulerName": "default-scheduler", "tolerations": [ { "operator": "Exists", "effect": "NoExecute" }, { "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute" }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute" }, { "key": "node.kubernetes.io/disk-pressure", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/memory-pressure", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/unschedulable", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/network-unavailable", "operator": "Exists", "effect": "NoSchedule" } ], "priorityClassName": "system-node-critical", "priority": 2000001000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:16Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-24T20:29:17Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-24T20:29:17Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:16Z" } ], "hostIP": "10.166.0.52", "podIP": "10.166.0.52", "startTime": "2019-06-11T18:56:16Z", "containerStatuses": [ { "name": "fluentd-gcp", "state": { "running": { "startedAt": "2019-06-24T20:29:15Z" } }, "lastState": { "terminated": { "exitCode": 255, "reason": "Error", "startedAt": "2019-06-11T18:56:17Z", "finishedAt": "2019-06-24T20:29:05Z", "containerID": "docker://a279721ece1f3e2e93fdddbf50a87a6d8c6ab7272bad1f441f9bd688d727f828" } }, "ready": true, "restartCount": 1, "image": "gcr.io/stackdriver-agents/stackdriver-logging-agent:0.6-1.6.0-1", "imageID": "docker-pullable://gcr.io/stackdriver-agents/stackdriver-logging-agent@sha256:f8d5231b67b9c53f60068b535a11811d29d1b3efd53d2b79f2a2591ea338e4f2", "containerID": "docker://718f46de07266b69cc4d7f09cc933921bf1e3e0606094f73cab28af4d6b9cb38" }, { "name": "prometheus-to-sd-exporter", "state": { "running": { "startedAt": "2019-06-24T20:29:15Z" } }, "lastState": { "terminated": { "exitCode": 255, "reason": "Error", "startedAt": "2019-06-11T18:56:17Z", "finishedAt": "2019-06-24T20:29:05Z", "containerID": "docker://3c1c743cd0f70c49f94ef98d599b6d45a58a7c2b3a04157d3044f3ed1e3c0468" } }, "ready": true, "restartCount": 1, "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "imageID": "docker-pullable://k8s.gcr.io/prometheus-to-sd@sha256:14666989f40bb7c896c3e775a93c6873e2b791d65bc65579f58a078b7f9a764e", "containerID": "docker://bb51b111b85ce54843b506a812ffbd74ac303ddf55796e4d387f6fce2733243c" } ], "qosClass": "Burstable" } }, { "metadata": { "name": "fluentd-gcp-v3.2.0-4jlg6", "generateName": "fluentd-gcp-v3.2.0-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/fluentd-gcp-v3.2.0-4jlg6", "uid": "a2bd40a3-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "874", "creationTimestamp": "2019-06-11T18:56:35Z", "labels": { "controller-revision-hash": "5f6f57c9d4", "k8s-app": "fluentd-gcp", "kubernetes.io/cluster-service": "true", "pod-template-generation": "2", "version": "v3.2.0" }, "annotations": { "scheduler.alpha.kubernetes.io/critical-pod": "" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "DaemonSet", "name": "fluentd-gcp-v3.2.0", "uid": "7c5f3203-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "varlog", "hostPath": { "path": "/var/log", "type": "" } }, { "name": "varlibdockercontainers", "hostPath": { "path": "/var/lib/docker/containers", "type": "" } }, { "name": "config-volume", "configMap": { "name": "fluentd-gcp-config-old-v1.2.5", "defaultMode": 420 } }, { "name": "fluentd-gcp-token-fkzzz", "secret": { "secretName": "fluentd-gcp-token-fkzzz", "defaultMode": 420 } } ], "containers": [ { "name": "fluentd-gcp", "image": "gcr.io/stackdriver-agents/stackdriver-logging-agent:0.6-1.6.0-1", "env": [ { "name": "NODE_NAME", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "spec.nodeName" } } }, { "name": "STACKDRIVER_METADATA_AGENT_URL", "value": "http://$(NODE_NAME):8799" } ], "resources": { "limits": { "cpu": "1", "memory": "500Mi" }, "requests": { "cpu": "100m", "memory": "200Mi" } }, "volumeMounts": [ { "name": "varlog", "mountPath": "/var/log" }, { "name": "varlibdockercontainers", "readOnly": true, "mountPath": "/var/lib/docker/containers" }, { "name": "config-volume", "mountPath": "/etc/google-fluentd/config.d" }, { "name": "fluentd-gcp-token-fkzzz", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "livenessProbe": { "exec": { "command": [ "/bin/sh", "-c", "LIVENESS_THRESHOLD_SECONDS=${LIVENESS_THRESHOLD_SECONDS:-300}; STUCK_THRESHOLD_SECONDS=${LIVENESS_THRESHOLD_SECONDS:-900}; if [ ! -e /var/log/fluentd-buffers ]; then\n exit 1;\nfi; touch -d \"${STUCK_THRESHOLD_SECONDS} seconds ago\" /tmp/marker-stuck; if [[ -z \"$(find /var/log/fluentd-buffers -type f -newer /tmp/marker-stuck -print -quit)\" ]]; then\n rm -rf /var/log/fluentd-buffers;\n exit 1;\nfi; touch -d \"${LIVENESS_THRESHOLD_SECONDS} seconds ago\" /tmp/marker-liveness; if [[ -z \"$(find /var/log/fluentd-buffers -type f -newer /tmp/marker-liveness -print -quit)\" ]]; then\n exit 1;\nfi;\n" ] }, "initialDelaySeconds": 600, "timeoutSeconds": 1, "periodSeconds": 60, "successThreshold": 1, "failureThreshold": 3 }, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" }, { "name": "prometheus-to-sd-exporter", "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "command": [ "/monitor", "--stackdriver-prefix=container.googleapis.com/internal/addons", "--api-override=https://monitoring.googleapis.com/", "--source=fluentd:http://localhost:24231?whitelisted=stackdriver_successful_requests_count,stackdriver_failed_requests_count,stackdriver_ingested_entries_count,stackdriver_dropped_entries_count", "--pod-id=$(POD_NAME)", "--namespace-id=$(POD_NAMESPACE)" ], "env": [ { "name": "POD_NAME", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.name" } } }, { "name": "POD_NAMESPACE", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.namespace" } } } ], "resources": {  }, "volumeMounts": [ { "name": "fluentd-gcp-token-fkzzz", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 60, "dnsPolicy": "Default", "nodeSelector": { "beta.kubernetes.io/fluentd-ds-ready": "true" }, "serviceAccountName": "fluentd-gcp", "serviceAccount": "fluentd-gcp", "nodeName": "gke-gokubia-default-pool-ed47b068-p4gt", "hostNetwork": true, "securityContext": {  }, "affinity": { "nodeAffinity": { "requiredDuringSchedulingIgnoredDuringExecution": { "nodeSelectorTerms": [ { "matchFields": [ { "key": "metadata.name", "operator": "In", "values": [ "gke-gokubia-default-pool-ed47b068-p4gt" ] } ] } ] } } }, "schedulerName": "default-scheduler", "tolerations": [ { "operator": "Exists", "effect": "NoExecute" }, { "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute" }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute" }, { "key": "node.kubernetes.io/disk-pressure", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/memory-pressure", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/unschedulable", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/network-unavailable", "operator": "Exists", "effect": "NoSchedule" } ], "priorityClassName": "system-node-critical", "priority": 2000001000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:35Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:36Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:36Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:35Z" } ], "hostIP": "10.166.0.53", "podIP": "10.166.0.53", "startTime": "2019-06-11T18:56:35Z", "containerStatuses": [ { "name": "fluentd-gcp", "state": { "running": { "startedAt": "2019-06-11T18:56:36Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "gcr.io/stackdriver-agents/stackdriver-logging-agent:0.6-1.6.0-1", "imageID": "docker-pullable://gcr.io/stackdriver-agents/stackdriver-logging-agent@sha256:f8d5231b67b9c53f60068b535a11811d29d1b3efd53d2b79f2a2591ea338e4f2", "containerID": "docker://f786dca609252e2841cc5e7c913eee75985a34d8f7a3e25d2aa7be0518eb8b5f" }, { "name": "prometheus-to-sd-exporter", "state": { "running": { "startedAt": "2019-06-11T18:56:36Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "imageID": "docker-pullable://k8s.gcr.io/prometheus-to-sd@sha256:14666989f40bb7c896c3e775a93c6873e2b791d65bc65579f58a078b7f9a764e", "containerID": "docker://a8431fffd8ca28181a179b731e441824fba40d53eafdb72d626f010f66254c13" } ], "qosClass": "Burstable" } }, { "metadata": { "name": "fluentd-gcp-v3.2.0-96vft", "generateName": "fluentd-gcp-v3.2.0-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/fluentd-gcp-v3.2.0-96vft", "uid": "9cb193e0-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "829", "creationTimestamp": "2019-06-11T18:56:25Z", "labels": { "controller-revision-hash": "5f6f57c9d4", "k8s-app": "fluentd-gcp", "kubernetes.io/cluster-service": "true", "pod-template-generation": "2", "version": "v3.2.0" }, "annotations": { "scheduler.alpha.kubernetes.io/critical-pod": "" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "DaemonSet", "name": "fluentd-gcp-v3.2.0", "uid": "7c5f3203-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "varlog", "hostPath": { "path": "/var/log", "type": "" } }, { "name": "varlibdockercontainers", "hostPath": { "path": "/var/lib/docker/containers", "type": "" } }, { "name": "config-volume", "configMap": { "name": "fluentd-gcp-config-old-v1.2.5", "defaultMode": 420 } }, { "name": "fluentd-gcp-token-fkzzz", "secret": { "secretName": "fluentd-gcp-token-fkzzz", "defaultMode": 420 } } ], "containers": [ { "name": "fluentd-gcp", "image": "gcr.io/stackdriver-agents/stackdriver-logging-agent:0.6-1.6.0-1", "env": [ { "name": "NODE_NAME", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "spec.nodeName" } } }, { "name": "STACKDRIVER_METADATA_AGENT_URL", "value": "http://$(NODE_NAME):8799" } ], "resources": { "limits": { "cpu": "1", "memory": "500Mi" }, "requests": { "cpu": "100m", "memory": "200Mi" } }, "volumeMounts": [ { "name": "varlog", "mountPath": "/var/log" }, { "name": "varlibdockercontainers", "readOnly": true, "mountPath": "/var/lib/docker/containers" }, { "name": "config-volume", "mountPath": "/etc/google-fluentd/config.d" }, { "name": "fluentd-gcp-token-fkzzz", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "livenessProbe": { "exec": { "command": [ "/bin/sh", "-c", "LIVENESS_THRESHOLD_SECONDS=${LIVENESS_THRESHOLD_SECONDS:-300}; STUCK_THRESHOLD_SECONDS=${LIVENESS_THRESHOLD_SECONDS:-900}; if [ ! -e /var/log/fluentd-buffers ]; then\n exit 1;\nfi; touch -d \"${STUCK_THRESHOLD_SECONDS} seconds ago\" /tmp/marker-stuck; if [[ -z \"$(find /var/log/fluentd-buffers -type f -newer /tmp/marker-stuck -print -quit)\" ]]; then\n rm -rf /var/log/fluentd-buffers;\n exit 1;\nfi; touch -d \"${LIVENESS_THRESHOLD_SECONDS} seconds ago\" /tmp/marker-liveness; if [[ -z \"$(find /var/log/fluentd-buffers -type f -newer /tmp/marker-liveness -print -quit)\" ]]; then\n exit 1;\nfi;\n" ] }, "initialDelaySeconds": 600, "timeoutSeconds": 1, "periodSeconds": 60, "successThreshold": 1, "failureThreshold": 3 }, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" }, { "name": "prometheus-to-sd-exporter", "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "command": [ "/monitor", "--stackdriver-prefix=container.googleapis.com/internal/addons", "--api-override=https://monitoring.googleapis.com/", "--source=fluentd:http://localhost:24231?whitelisted=stackdriver_successful_requests_count,stackdriver_failed_requests_count,stackdriver_ingested_entries_count,stackdriver_dropped_entries_count", "--pod-id=$(POD_NAME)", "--namespace-id=$(POD_NAMESPACE)" ], "env": [ { "name": "POD_NAME", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.name" } } }, { "name": "POD_NAMESPACE", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.namespace" } } } ], "resources": {  }, "volumeMounts": [ { "name": "fluentd-gcp-token-fkzzz", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 60, "dnsPolicy": "Default", "nodeSelector": { "beta.kubernetes.io/fluentd-ds-ready": "true" }, "serviceAccountName": "fluentd-gcp", "serviceAccount": "fluentd-gcp", "nodeName": "gke-gokubia-default-pool-ed47b068-xm8s", "hostNetwork": true, "securityContext": {  }, "affinity": { "nodeAffinity": { "requiredDuringSchedulingIgnoredDuringExecution": { "nodeSelectorTerms": [ { "matchFields": [ { "key": "metadata.name", "operator": "In", "values": [ "gke-gokubia-default-pool-ed47b068-xm8s" ] } ] } ] } } }, "schedulerName": "default-scheduler", "tolerations": [ { "operator": "Exists", "effect": "NoExecute" }, { "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute" }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute" }, { "key": "node.kubernetes.io/disk-pressure", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/memory-pressure", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/unschedulable", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/network-unavailable", "operator": "Exists", "effect": "NoSchedule" } ], "priorityClassName": "system-node-critical", "priority": 2000001000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:25Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:26Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:26Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:25Z" } ], "hostIP": "10.166.0.46", "podIP": "10.166.0.46", "startTime": "2019-06-11T18:56:25Z", "containerStatuses": [ { "name": "fluentd-gcp", "state": { "running": { "startedAt": "2019-06-11T18:56:26Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "gcr.io/stackdriver-agents/stackdriver-logging-agent:0.6-1.6.0-1", "imageID": "docker-pullable://gcr.io/stackdriver-agents/stackdriver-logging-agent@sha256:f8d5231b67b9c53f60068b535a11811d29d1b3efd53d2b79f2a2591ea338e4f2", "containerID": "docker://b4c8bb26b9d37d5019524dfa7b288661bac61c614f12034dd89e3916d6b1671f" }, { "name": "prometheus-to-sd-exporter", "state": { "running": { "startedAt": "2019-06-11T18:56:26Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "imageID": "docker-pullable://k8s.gcr.io/prometheus-to-sd@sha256:14666989f40bb7c896c3e775a93c6873e2b791d65bc65579f58a078b7f9a764e", "containerID": "docker://c2f03051f58acc06fabe2f696ed3c5351e592dcf46dfba1fbf7582f48db3d332" } ], "qosClass": "Burstable" } }, { "metadata": { "name": "heapster-v1.6.0-beta.1-7665886b6c-9thgg", "generateName": "heapster-v1.6.0-beta.1-7665886b6c-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/heapster-v1.6.0-beta.1-7665886b6c-9thgg", "uid": "93005fa8-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "757", "creationTimestamp": "2019-06-11T18:56:09Z", "labels": { "k8s-app": "heapster", "pod-template-hash": "7665886b6c", "version": "v1.6.0-beta.1" }, "annotations": { "scheduler.alpha.kubernetes.io/critical-pod": "", "seccomp.security.alpha.kubernetes.io/pod": "docker/default" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "ReplicaSet", "name": "heapster-v1.6.0-beta.1-7665886b6c", "uid": "92f790aa-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "heapster-config-volume", "configMap": { "name": "heapster-config", "defaultMode": 420 } }, { "name": "heapster-token-pb66w", "secret": { "secretName": "heapster-token-pb66w", "defaultMode": 420 } } ], "containers": [ { "name": "heapster", "image": "k8s.gcr.io/heapster-amd64:v1.6.0-beta.1", "command": [ "/heapster", "--source=kubernetes.summary_api:?host_id_annotation=container.googleapis.com/instance_id", "--sink=stackdriver:?cluster_name=gokubia\u0026use_old_resources=true\u0026use_new_resources=false\u0026min_interval_sec=100\u0026batch_export_timeout_sec=110\u0026cluster_location=europe-north1-a" ], "resources": { "limits": { "cpu": "13m", "memory": "120Mi" }, "requests": { "cpu": "13m", "memory": "120Mi" } }, "volumeMounts": [ { "name": "heapster-token-pb66w", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "livenessProbe": { "httpGet": { "path": "/healthz", "port": 8082, "scheme": "HTTP" }, "initialDelaySeconds": 180, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 3 }, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" }, { "name": "prom-to-sd", "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "command": [ "/monitor", "--source=heapster:http://localhost:8082?whitelisted=stackdriver_requests_count,stackdriver_timeseries_count", "--stackdriver-prefix=container.googleapis.com/internal/addons", "--api-override=https://monitoring.googleapis.com/", "--pod-id=$(POD_NAME)", "--namespace-id=$(POD_NAMESPACE)" ], "env": [ { "name": "POD_NAME", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.name" } } }, { "name": "POD_NAMESPACE", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.namespace" } } } ], "resources": {  }, "volumeMounts": [ { "name": "heapster-token-pb66w", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" }, { "name": "heapster-nanny", "image": "k8s.gcr.io/addon-resizer:1.8.3", "command": [ "/pod_nanny", "--config-dir=/etc/config", "--cpu=10m", "--extra-cpu=0.5m", "--memory=100Mi", "--extra-memory=4Mi", "--threshold=5", "--deployment=heapster-v1.6.0-beta.1", "--container=heapster", "--poll-period=300000", "--estimator=exponential", "--minClusterSize=5" ], "env": [ { "name": "MY_POD_NAME", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.name" } } }, { "name": "MY_POD_NAMESPACE", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.namespace" } } } ], "resources": { "limits": { "cpu": "50m", "memory": "92960Ki" }, "requests": { "cpu": "50m", "memory": "92960Ki" } }, "volumeMounts": [ { "name": "heapster-config-volume", "mountPath": "/etc/config" }, { "name": "heapster-token-pb66w", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "heapster", "serviceAccount": "heapster", "nodeName": "gke-gokubia-default-pool-ed47b068-p4gt", "securityContext": {  }, "schedulerName": "default-scheduler", "tolerations": [ { "key": "CriticalAddonsOnly", "operator": "Exists" }, { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 } ], "priorityClassName": "system-cluster-critical", "priority": 2000000000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:09Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:15Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:15Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:09Z" } ], "hostIP": "10.166.0.53", "podIP": "10.20.2.4", "startTime": "2019-06-11T18:56:09Z", "containerStatuses": [ { "name": "heapster", "state": { "running": { "startedAt": "2019-06-11T18:56:14Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/heapster-amd64:v1.6.0-beta.1", "imageID": "docker-pullable://k8s.gcr.io/heapster-amd64@sha256:9fae0af136ce0cf4f88393b3670f7139ffc464692060c374d2ae748e13144521", "containerID": "docker://71bb366b06780807680a7ad861ac8866e8a5fc2a08a91c452a53b02d57546716" }, { "name": "heapster-nanny", "state": { "running": { "startedAt": "2019-06-11T18:56:15Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/addon-resizer:1.8.3", "imageID": "docker-pullable://k8s.gcr.io/addon-resizer@sha256:07353f7b26327f0d933515a22b1de587b040d3d85c464ea299c1b9f242529326", "containerID": "docker://c9f2b7dc4683fa35bc3383d352ed730b377c711daa21cd133dcc83dcd774cd4b" }, { "name": "prom-to-sd", "state": { "running": { "startedAt": "2019-06-11T18:56:14Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "imageID": "docker-pullable://k8s.gcr.io/prometheus-to-sd@sha256:14666989f40bb7c896c3e775a93c6873e2b791d65bc65579f58a078b7f9a764e", "containerID": "docker://ea1454995c33a95bc410708aa3eea04fb803b3691b2e0e6b21f2689fd5ceab3a" } ], "qosClass": "Burstable" } }, { "metadata": { "name": "kube-dns-autoscaler-76fcd5f658-qtnx7", "generateName": "kube-dns-autoscaler-76fcd5f658-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/kube-dns-autoscaler-76fcd5f658-qtnx7", "uid": "8290e0f9-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "611", "creationTimestamp": "2019-06-11T18:55:41Z", "labels": { "k8s-app": "kube-dns-autoscaler", "pod-template-hash": "76fcd5f658" }, "annotations": { "scheduler.alpha.kubernetes.io/critical-pod": "", "seccomp.security.alpha.kubernetes.io/pod": "docker/default" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "ReplicaSet", "name": "kube-dns-autoscaler-76fcd5f658", "uid": "7c20a4dc-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "kube-dns-autoscaler-token-249sg", "secret": { "secretName": "kube-dns-autoscaler-token-249sg", "defaultMode": 420 } } ], "containers": [ { "name": "autoscaler", "image": "k8s.gcr.io/cluster-proportional-autoscaler-amd64:1.2.0", "command": [ "/cluster-proportional-autoscaler", "--namespace=kube-system", "--configmap=kube-dns-autoscaler", "--target=Deployment/kube-dns", "--default-params={\"linear\":{\"coresPerReplica\":256,\"nodesPerReplica\":16,\"preventSinglePointFailure\":true}}", "--logtostderr=true", "--v=2" ], "resources": { "requests": { "cpu": "20m", "memory": "10Mi" } }, "volumeMounts": [ { "name": "kube-dns-autoscaler-token-249sg", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "kube-dns-autoscaler", "serviceAccount": "kube-dns-autoscaler", "nodeName": "gke-gokubia-default-pool-ed47b068-xm8s", "securityContext": {  }, "schedulerName": "default-scheduler", "tolerations": [ { "key": "CriticalAddonsOnly", "operator": "Exists" }, { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 } ], "priorityClassName": "system-cluster-critical", "priority": 2000000000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:46Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:54Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:54Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:45Z" } ], "hostIP": "10.166.0.46", "podIP": "10.20.1.2", "startTime": "2019-06-11T18:55:46Z", "containerStatuses": [ { "name": "autoscaler", "state": { "running": { "startedAt": "2019-06-11T18:55:49Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/cluster-proportional-autoscaler-amd64:1.2.0", "imageID": "docker-pullable://k8s.gcr.io/cluster-proportional-autoscaler-amd64@sha256:36359630278b119e7dd78f5437be1c667080108fa59ecba1b81cda3610dcf4d7", "containerID": "docker://ac00d14231e60655600579164ab5775933bccbe0b33e234f2a318f0314957c31" } ], "qosClass": "Burstable" } }, { "metadata": { "name": "kube-dns-b46cc9485-7fsm4", "generateName": "kube-dns-b46cc9485-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/kube-dns-b46cc9485-7fsm4", "uid": "64514f88-96be-11e9-8fc9-42010aa600c2", "resourceVersion": "3317364", "creationTimestamp": "2019-06-24T20:26:48Z", "labels": { "k8s-app": "kube-dns", "pod-template-hash": "b46cc9485" }, "annotations": { "scheduler.alpha.kubernetes.io/critical-pod": "", "seccomp.security.alpha.kubernetes.io/pod": "docker/default" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "ReplicaSet", "name": "kube-dns-b46cc9485", "uid": "7c04f7fd-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "kube-dns-config", "configMap": { "name": "kube-dns", "defaultMode": 420, "optional": true } }, { "name": "kube-dns-token-6m89k", "secret": { "secretName": "kube-dns-token-6m89k", "defaultMode": 420 } } ], "containers": [ { "name": "kubedns", "image": "k8s.gcr.io/k8s-dns-kube-dns-amd64:1.14.13", "args": [ "--domain=cluster.local.", "--dns-port=10053", "--config-dir=/kube-dns-config", "--v=2" ], "ports": [ { "name": "dns-local", "containerPort": 10053, "protocol": "UDP" }, { "name": "dns-tcp-local", "containerPort": 10053, "protocol": "TCP" }, { "name": "metrics", "containerPort": 10055, "protocol": "TCP" } ], "env": [ { "name": "PROMETHEUS_PORT", "value": "10055" } ], "resources": { "limits": { "memory": "170Mi" }, "requests": { "cpu": "100m", "memory": "70Mi" } }, "volumeMounts": [ { "name": "kube-dns-config", "mountPath": "/kube-dns-config" }, { "name": "kube-dns-token-6m89k", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "livenessProbe": { "httpGet": { "path": "/healthcheck/kubedns", "port": 10054, "scheme": "HTTP" }, "initialDelaySeconds": 60, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 5 }, "readinessProbe": { "httpGet": { "path": "/readiness", "port": 8081, "scheme": "HTTP" }, "initialDelaySeconds": 3, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 3 }, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" }, { "name": "dnsmasq", "image": "k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64:1.14.13", "args": [ "-v=2", "-logtostderr", "-configDir=/etc/k8s/dns/dnsmasq-nanny", "-restartDnsmasq=true", "--", "-k", "--cache-size=1000", "--no-negcache", "--log-facility=-", "--server=/cluster.local/127.0.0.1#10053", "--server=/in-addr.arpa/127.0.0.1#10053", "--server=/ip6.arpa/127.0.0.1#10053" ], "ports": [ { "name": "dns", "containerPort": 53, "protocol": "UDP" }, { "name": "dns-tcp", "containerPort": 53, "protocol": "TCP" } ], "resources": { "requests": { "cpu": "150m", "memory": "20Mi" } }, "volumeMounts": [ { "name": "kube-dns-config", "mountPath": "/etc/k8s/dns/dnsmasq-nanny" }, { "name": "kube-dns-token-6m89k", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "livenessProbe": { "httpGet": { "path": "/healthcheck/dnsmasq", "port": 10054, "scheme": "HTTP" }, "initialDelaySeconds": 60, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 5 }, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" }, { "name": "sidecar", "image": "k8s.gcr.io/k8s-dns-sidecar-amd64:1.14.13", "args": [ "--v=2", "--logtostderr", "--probe=kubedns,127.0.0.1:10053,kubernetes.default.svc.cluster.local,5,SRV", "--probe=dnsmasq,127.0.0.1:53,kubernetes.default.svc.cluster.local,5,SRV" ], "ports": [ { "name": "metrics", "containerPort": 10054, "protocol": "TCP" } ], "resources": { "requests": { "cpu": "10m", "memory": "20Mi" } }, "volumeMounts": [ { "name": "kube-dns-token-6m89k", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "livenessProbe": { "httpGet": { "path": "/metrics", "port": 10054, "scheme": "HTTP" }, "initialDelaySeconds": 60, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 5 }, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" }, { "name": "prometheus-to-sd", "image": "k8s.gcr.io/prometheus-to-sd:v0.4.2", "command": [ "/monitor", "--source=kubedns:http://localhost:10054?whitelisted=probe_kubedns_latency_ms,probe_kubedns_errors,dnsmasq_misses,dnsmasq_hits", "--stackdriver-prefix=container.googleapis.com/internal/addons", "--api-override=https://monitoring.googleapis.com/", "--pod-id=$(POD_NAME)", "--namespace-id=$(POD_NAMESPACE)", "--v=2" ], "env": [ { "name": "POD_NAME", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.name" } } }, { "name": "POD_NAMESPACE", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.namespace" } } } ], "resources": {  }, "volumeMounts": [ { "name": "kube-dns-token-6m89k", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "Default", "serviceAccountName": "kube-dns", "serviceAccount": "kube-dns", "nodeName": "gke-gokubia-default-pool-ed47b068-p4gt", "securityContext": {  }, "schedulerName": "default-scheduler", "tolerations": [ { "key": "CriticalAddonsOnly", "operator": "Exists" }, { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 } ], "priorityClassName": "system-cluster-critical", "priority": 2000000000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-24T20:26:48Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-24T20:27:03Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-24T20:27:03Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-24T20:26:48Z" } ], "hostIP": "10.166.0.53", "podIP": "10.20.2.47", "startTime": "2019-06-24T20:26:48Z", "containerStatuses": [ { "name": "dnsmasq", "state": { "running": { "startedAt": "2019-06-24T20:26:50Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64:1.14.13", "imageID": "docker-pullable://k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64@sha256:45df3e8e0c551bd0c79cdba48ae6677f817971dcbd1eeed7fd1f9a35118410e4", "containerID": "docker://bc2addffd980e061026754d83c14f50bf7cffc714681ba16a093c2c26328f103" }, { "name": "kubedns", "state": { "running": { "startedAt": "2019-06-24T20:26:49Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/k8s-dns-kube-dns-amd64:1.14.13", "imageID": "docker-pullable://k8s.gcr.io/k8s-dns-kube-dns-amd64@sha256:618a82fa66cf0c75e4753369a6999032372be7308866fc9afb381789b1e5ad52", "containerID": "docker://d70703c60330c00aa1349492c6f41163bd82950b8cb20564f4ab236d6895070b" }, { "name": "prometheus-to-sd", "state": { "running": { "startedAt": "2019-06-24T20:26:53Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/prometheus-to-sd:v0.4.2", "imageID": "docker-pullable://k8s.gcr.io/prometheus-to-sd@sha256:aca8ef83a7fae83f1f8583e978dd4d1ff655b9f2ca0a76bda5edce6d8965bdf2", "containerID": "docker://f8fcbeb945581642685faf8102e001016a65aeafdee7de34fea758063e7e864a" }, { "name": "sidecar", "state": { "running": { "startedAt": "2019-06-24T20:26:51Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/k8s-dns-sidecar-amd64:1.14.13", "imageID": "docker-pullable://k8s.gcr.io/k8s-dns-sidecar-amd64@sha256:cedc8fe2098dffc26d17f64061296b7aa54258a31513b6c52df271a98bb522b3", "containerID": "docker://b8c3088572fe580fe32a5c65c5bfd83bd1773295cf0e406646a48d816a17230e" } ], "qosClass": "Burstable" } }, { "metadata": { "name": "kube-dns-b46cc9485-ptlb8", "generateName": "kube-dns-b46cc9485-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/kube-dns-b46cc9485-ptlb8", "uid": "9aac7a39-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "857", "creationTimestamp": "2019-06-11T18:56:22Z", "labels": { "k8s-app": "kube-dns", "pod-template-hash": "b46cc9485" }, "annotations": { "scheduler.alpha.kubernetes.io/critical-pod": "", "seccomp.security.alpha.kubernetes.io/pod": "docker/default" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "ReplicaSet", "name": "kube-dns-b46cc9485", "uid": "7c04f7fd-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "kube-dns-config", "configMap": { "name": "kube-dns", "defaultMode": 420, "optional": true } }, { "name": "kube-dns-token-6m89k", "secret": { "secretName": "kube-dns-token-6m89k", "defaultMode": 420 } } ], "containers": [ { "name": "kubedns", "image": "k8s.gcr.io/k8s-dns-kube-dns-amd64:1.14.13", "args": [ "--domain=cluster.local.", "--dns-port=10053", "--config-dir=/kube-dns-config", "--v=2" ], "ports": [ { "name": "dns-local", "containerPort": 10053, "protocol": "UDP" }, { "name": "dns-tcp-local", "containerPort": 10053, "protocol": "TCP" }, { "name": "metrics", "containerPort": 10055, "protocol": "TCP" } ], "env": [ { "name": "PROMETHEUS_PORT", "value": "10055" } ], "resources": { "limits": { "memory": "170Mi" }, "requests": { "cpu": "100m", "memory": "70Mi" } }, "volumeMounts": [ { "name": "kube-dns-config", "mountPath": "/kube-dns-config" }, { "name": "kube-dns-token-6m89k", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "livenessProbe": { "httpGet": { "path": "/healthcheck/kubedns", "port": 10054, "scheme": "HTTP" }, "initialDelaySeconds": 60, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 5 }, "readinessProbe": { "httpGet": { "path": "/readiness", "port": 8081, "scheme": "HTTP" }, "initialDelaySeconds": 3, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 3 }, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" }, { "name": "dnsmasq", "image": "k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64:1.14.13", "args": [ "-v=2", "-logtostderr", "-configDir=/etc/k8s/dns/dnsmasq-nanny", "-restartDnsmasq=true", "--", "-k", "--cache-size=1000", "--no-negcache", "--log-facility=-", "--server=/cluster.local/127.0.0.1#10053", "--server=/in-addr.arpa/127.0.0.1#10053", "--server=/ip6.arpa/127.0.0.1#10053" ], "ports": [ { "name": "dns", "containerPort": 53, "protocol": "UDP" }, { "name": "dns-tcp", "containerPort": 53, "protocol": "TCP" } ], "resources": { "requests": { "cpu": "150m", "memory": "20Mi" } }, "volumeMounts": [ { "name": "kube-dns-config", "mountPath": "/etc/k8s/dns/dnsmasq-nanny" }, { "name": "kube-dns-token-6m89k", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "livenessProbe": { "httpGet": { "path": "/healthcheck/dnsmasq", "port": 10054, "scheme": "HTTP" }, "initialDelaySeconds": 60, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 5 }, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" }, { "name": "sidecar", "image": "k8s.gcr.io/k8s-dns-sidecar-amd64:1.14.13", "args": [ "--v=2", "--logtostderr", "--probe=kubedns,127.0.0.1:10053,kubernetes.default.svc.cluster.local,5,SRV", "--probe=dnsmasq,127.0.0.1:53,kubernetes.default.svc.cluster.local,5,SRV" ], "ports": [ { "name": "metrics", "containerPort": 10054, "protocol": "TCP" } ], "resources": { "requests": { "cpu": "10m", "memory": "20Mi" } }, "volumeMounts": [ { "name": "kube-dns-token-6m89k", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "livenessProbe": { "httpGet": { "path": "/metrics", "port": 10054, "scheme": "HTTP" }, "initialDelaySeconds": 60, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 5 }, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" }, { "name": "prometheus-to-sd", "image": "k8s.gcr.io/prometheus-to-sd:v0.4.2", "command": [ "/monitor", "--source=kubedns:http://localhost:10054?whitelisted=probe_kubedns_latency_ms,probe_kubedns_errors,dnsmasq_misses,dnsmasq_hits", "--stackdriver-prefix=container.googleapis.com/internal/addons", "--api-override=https://monitoring.googleapis.com/", "--pod-id=$(POD_NAME)", "--namespace-id=$(POD_NAMESPACE)", "--v=2" ], "env": [ { "name": "POD_NAME", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.name" } } }, { "name": "POD_NAMESPACE", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.namespace" } } } ], "resources": {  }, "volumeMounts": [ { "name": "kube-dns-token-6m89k", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "Default", "serviceAccountName": "kube-dns", "serviceAccount": "kube-dns", "nodeName": "gke-gokubia-default-pool-ed47b068-xm8s", "securityContext": {  }, "schedulerName": "default-scheduler", "tolerations": [ { "key": "CriticalAddonsOnly", "operator": "Exists" }, { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 } ], "priorityClassName": "system-cluster-critical", "priority": 2000000000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:22Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:34Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:34Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:22Z" } ], "hostIP": "10.166.0.46", "podIP": "10.20.1.5", "startTime": "2019-06-11T18:56:22Z", "containerStatuses": [ { "name": "dnsmasq", "state": { "running": { "startedAt": "2019-06-11T18:56:24Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64:1.14.13", "imageID": "docker-pullable://k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64@sha256:45df3e8e0c551bd0c79cdba48ae6677f817971dcbd1eeed7fd1f9a35118410e4", "containerID": "docker://06cfa1acbbed051eacf963deb4e84e24118c3478147dfd1c24a217309239ff3c" }, { "name": "kubedns", "state": { "running": { "startedAt": "2019-06-11T18:56:23Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/k8s-dns-kube-dns-amd64:1.14.13", "imageID": "docker-pullable://k8s.gcr.io/k8s-dns-kube-dns-amd64@sha256:618a82fa66cf0c75e4753369a6999032372be7308866fc9afb381789b1e5ad52", "containerID": "docker://f78b82232c28900b3bb05975147ddd3287185c15eaa2b847bb029131f17c3836" }, { "name": "prometheus-to-sd", "state": { "running": { "startedAt": "2019-06-11T18:56:27Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/prometheus-to-sd:v0.4.2", "imageID": "docker-pullable://k8s.gcr.io/prometheus-to-sd@sha256:aca8ef83a7fae83f1f8583e978dd4d1ff655b9f2ca0a76bda5edce6d8965bdf2", "containerID": "docker://bdb9c6cd195e7a49f7ee2e3f7bf3dd3ff48e5dc4a6857a3fef19934ef923386c" }, { "name": "sidecar", "state": { "running": { "startedAt": "2019-06-11T18:56:24Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/k8s-dns-sidecar-amd64:1.14.13", "imageID": "docker-pullable://k8s.gcr.io/k8s-dns-sidecar-amd64@sha256:cedc8fe2098dffc26d17f64061296b7aa54258a31513b6c52df271a98bb522b3", "containerID": "docker://1278570611cf7810a9996657b8d3822a31a61199ddd3832cb964616c8f8e9b27" } ], "qosClass": "Burstable" } }, { "metadata": { "name": "kube-proxy-gke-gokubia-default-pool-ed47b068-3fkm", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/kube-proxy-gke-gokubia-default-pool-ed47b068-3fkm", "uid": "bcec3063-96be-11e9-8fc9-42010aa600c2", "resourceVersion": "3317780", "creationTimestamp": "2019-06-24T20:29:16Z", "labels": { "component": "kube-proxy", "tier": "node" }, "annotations": { "kubernetes.io/config.hash": "b78c13c76c7b871571175b856e86b9bb", "kubernetes.io/config.mirror": "b78c13c76c7b871571175b856e86b9bb", "kubernetes.io/config.seen": "2019-06-24T20:29:12.613247259Z", "kubernetes.io/config.source": "file", "scheduler.alpha.kubernetes.io/critical-pod": "" } }, "spec": { "volumes": [ { "name": "usr-ca-certs", "hostPath": { "path": "/usr/share/ca-certificates", "type": "" } }, { "name": "etc-ssl-certs", "hostPath": { "path": "/etc/ssl/certs", "type": "" } }, { "name": "kubeconfig", "hostPath": { "path": "/var/lib/kube-proxy/kubeconfig", "type": "FileOrCreate" } }, { "name": "varlog", "hostPath": { "path": "/var/log", "type": "" } }, { "name": "iptableslock", "hostPath": { "path": "/run/xtables.lock", "type": "FileOrCreate" } }, { "name": "lib-modules", "hostPath": { "path": "/lib/modules", "type": "" } } ], "containers": [ { "name": "kube-proxy", "image": "k8s.gcr.io/kube-proxy:v1.12.8-gke.7", "command": [ "/bin/sh", "-c", "exec kube-proxy --master=https://35.228.191.203 --kubeconfig=/var/lib/kube-proxy/kubeconfig --cluster-cidr=10.20.0.0/14 --resource-container=\"\" --oom-score-adj=-998 --v=2 --feature-gates=DynamicKubeletConfig=false,RotateKubeletServerCertificate=true,ExperimentalCriticalPodAnnotation=true --iptables-sync-period=1m --iptables-min-sync-period=10s --ipvs-sync-period=1m --ipvs-min-sync-period=10s 1\u003e\u003e/var/log/kube-proxy.log 2\u003e\u00261" ], "resources": { "requests": { "cpu": "100m" } }, "volumeMounts": [ { "name": "etc-ssl-certs", "readOnly": true, "mountPath": "/etc/ssl/certs" }, { "name": "usr-ca-certs", "readOnly": true, "mountPath": "/usr/share/ca-certificates" }, { "name": "varlog", "mountPath": "/var/log" }, { "name": "kubeconfig", "mountPath": "/var/lib/kube-proxy/kubeconfig" }, { "name": "iptableslock", "mountPath": "/run/xtables.lock" }, { "name": "lib-modules", "readOnly": true, "mountPath": "/lib/modules" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent", "securityContext": { "privileged": true, "procMount": "Default" } } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "nodeName": "gke-gokubia-default-pool-ed47b068-3fkm", "hostNetwork": true, "securityContext": {  }, "schedulerName": "default-scheduler", "tolerations": [ { "operator": "Exists", "effect": "NoExecute" }, { "operator": "Exists", "effect": "NoSchedule" } ], "priorityClassName": "system-node-critical", "priority": 2000001000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-24T20:29:13Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-24T20:29:16Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-24T20:29:16Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-24T20:29:13Z" } ], "hostIP": "10.166.0.52", "podIP": "10.166.0.52", "startTime": "2019-06-24T20:29:13Z", "containerStatuses": [ { "name": "kube-proxy", "state": { "running": { "startedAt": "2019-06-24T20:29:14Z" } }, "lastState": { "terminated": { "exitCode": 255, "reason": "Error", "startedAt": "2019-06-11T18:55:47Z", "finishedAt": "2019-06-24T20:29:05Z", "containerID": "docker://84edceb82d3e6845f6bc90e3126484703be15b2c8c66d543b9e3c2e284874c10" } }, "ready": true, "restartCount": 1, "image": "gcr.io/google_containers/kube-proxy:v1.12.8-gke.7", "imageID": "docker://sha256:d03e8b3c3b4021a6d7421b13dd3997c1f714c65052d2fdf8c517c4325682c1d8", "containerID": "docker://9fe80bf4da6b7a6af0503473ef76f060367739d7b762c05bdcf726e71f72d963" } ], "qosClass": "Burstable" } }, { "metadata": { "name": "kube-proxy-gke-gokubia-default-pool-ed47b068-p4gt", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/kube-proxy-gke-gokubia-default-pool-ed47b068-p4gt", "uid": "85283cf5-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "590", "creationTimestamp": "2019-06-11T18:55:45Z", "labels": { "component": "kube-proxy", "tier": "node" }, "annotations": { "kubernetes.io/config.hash": "b78c13c76c7b871571175b856e86b9bb", "kubernetes.io/config.mirror": "b78c13c76c7b871571175b856e86b9bb", "kubernetes.io/config.seen": "2019-06-11T18:55:45.30967515Z", "kubernetes.io/config.source": "file", "scheduler.alpha.kubernetes.io/critical-pod": "" } }, "spec": { "volumes": [ { "name": "usr-ca-certs", "hostPath": { "path": "/usr/share/ca-certificates", "type": "" } }, { "name": "etc-ssl-certs", "hostPath": { "path": "/etc/ssl/certs", "type": "" } }, { "name": "kubeconfig", "hostPath": { "path": "/var/lib/kube-proxy/kubeconfig", "type": "FileOrCreate" } }, { "name": "varlog", "hostPath": { "path": "/var/log", "type": "" } }, { "name": "iptableslock", "hostPath": { "path": "/run/xtables.lock", "type": "FileOrCreate" } }, { "name": "lib-modules", "hostPath": { "path": "/lib/modules", "type": "" } } ], "containers": [ { "name": "kube-proxy", "image": "k8s.gcr.io/kube-proxy:v1.12.8-gke.7", "command": [ "/bin/sh", "-c", "exec kube-proxy --master=https://35.228.191.203 --kubeconfig=/var/lib/kube-proxy/kubeconfig --cluster-cidr=10.20.0.0/14 --resource-container=\"\" --oom-score-adj=-998 --v=2 --feature-gates=DynamicKubeletConfig=false,RotateKubeletServerCertificate=true,ExperimentalCriticalPodAnnotation=true --iptables-sync-period=1m --iptables-min-sync-period=10s --ipvs-sync-period=1m --ipvs-min-sync-period=10s 1\u003e\u003e/var/log/kube-proxy.log 2\u003e\u00261" ], "resources": { "requests": { "cpu": "100m" } }, "volumeMounts": [ { "name": "etc-ssl-certs", "readOnly": true, "mountPath": "/etc/ssl/certs" }, { "name": "usr-ca-certs", "readOnly": true, "mountPath": "/usr/share/ca-certificates" }, { "name": "varlog", "mountPath": "/var/log" }, { "name": "kubeconfig", "mountPath": "/var/lib/kube-proxy/kubeconfig" }, { "name": "iptableslock", "mountPath": "/run/xtables.lock" }, { "name": "lib-modules", "readOnly": true, "mountPath": "/lib/modules" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent", "securityContext": { "privileged": true, "procMount": "Default" } } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "nodeName": "gke-gokubia-default-pool-ed47b068-p4gt", "hostNetwork": true, "securityContext": {  }, "schedulerName": "default-scheduler", "tolerations": [ { "operator": "Exists", "effect": "NoExecute" }, { "operator": "Exists", "effect": "NoSchedule" } ], "priorityClassName": "system-node-critical", "priority": 2000001000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:45Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:49Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:49Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:45Z" } ], "hostIP": "10.166.0.53", "podIP": "10.166.0.53", "startTime": "2019-06-11T18:55:45Z", "containerStatuses": [ { "name": "kube-proxy", "state": { "running": { "startedAt": "2019-06-11T18:55:48Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "gcr.io/google_containers/kube-proxy:v1.12.8-gke.7", "imageID": "docker://sha256:d03e8b3c3b4021a6d7421b13dd3997c1f714c65052d2fdf8c517c4325682c1d8", "containerID": "docker://27a36503c0cfb106590ff0ae6d66e150a7b8253b696f326fee2d96cf98418260" } ], "qosClass": "Burstable" } }, { "metadata": { "name": "kube-proxy-gke-gokubia-default-pool-ed47b068-xm8s", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/kube-proxy-gke-gokubia-default-pool-ed47b068-xm8s", "uid": "8546284b-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "610", "creationTimestamp": "2019-06-11T18:55:46Z", "labels": { "component": "kube-proxy", "tier": "node" }, "annotations": { "kubernetes.io/config.hash": "b78c13c76c7b871571175b856e86b9bb", "kubernetes.io/config.mirror": "b78c13c76c7b871571175b856e86b9bb", "kubernetes.io/config.seen": "2019-06-11T18:55:45.241429209Z", "kubernetes.io/config.source": "file", "scheduler.alpha.kubernetes.io/critical-pod": "" } }, "spec": { "volumes": [ { "name": "usr-ca-certs", "hostPath": { "path": "/usr/share/ca-certificates", "type": "" } }, { "name": "etc-ssl-certs", "hostPath": { "path": "/etc/ssl/certs", "type": "" } }, { "name": "kubeconfig", "hostPath": { "path": "/var/lib/kube-proxy/kubeconfig", "type": "FileOrCreate" } }, { "name": "varlog", "hostPath": { "path": "/var/log", "type": "" } }, { "name": "iptableslock", "hostPath": { "path": "/run/xtables.lock", "type": "FileOrCreate" } }, { "name": "lib-modules", "hostPath": { "path": "/lib/modules", "type": "" } } ], "containers": [ { "name": "kube-proxy", "image": "k8s.gcr.io/kube-proxy:v1.12.8-gke.7", "command": [ "/bin/sh", "-c", "exec kube-proxy --master=https://35.228.191.203 --kubeconfig=/var/lib/kube-proxy/kubeconfig --cluster-cidr=10.20.0.0/14 --resource-container=\"\" --oom-score-adj=-998 --v=2 --feature-gates=DynamicKubeletConfig=false,RotateKubeletServerCertificate=true,ExperimentalCriticalPodAnnotation=true --iptables-sync-period=1m --iptables-min-sync-period=10s --ipvs-sync-period=1m --ipvs-min-sync-period=10s 1\u003e\u003e/var/log/kube-proxy.log 2\u003e\u00261" ], "resources": { "requests": { "cpu": "100m" } }, "volumeMounts": [ { "name": "etc-ssl-certs", "readOnly": true, "mountPath": "/etc/ssl/certs" }, { "name": "usr-ca-certs", "readOnly": true, "mountPath": "/usr/share/ca-certificates" }, { "name": "varlog", "mountPath": "/var/log" }, { "name": "kubeconfig", "mountPath": "/var/lib/kube-proxy/kubeconfig" }, { "name": "iptableslock", "mountPath": "/run/xtables.lock" }, { "name": "lib-modules", "readOnly": true, "mountPath": "/lib/modules" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent", "securityContext": { "privileged": true, "procMount": "Default" } } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "nodeName": "gke-gokubia-default-pool-ed47b068-xm8s", "hostNetwork": true, "securityContext": {  }, "schedulerName": "default-scheduler", "tolerations": [ { "operator": "Exists", "effect": "NoExecute" }, { "operator": "Exists", "effect": "NoSchedule" } ], "priorityClassName": "system-node-critical", "priority": 2000001000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:46Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:54Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:54Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:46Z" } ], "hostIP": "10.166.0.46", "podIP": "10.166.0.46", "startTime": "2019-06-11T18:55:46Z", "containerStatuses": [ { "name": "kube-proxy", "state": { "running": { "startedAt": "2019-06-11T18:55:48Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "gcr.io/google_containers/kube-proxy:v1.12.8-gke.7", "imageID": "docker://sha256:d03e8b3c3b4021a6d7421b13dd3997c1f714c65052d2fdf8c517c4325682c1d8", "containerID": "docker://00db261b171cfa14a1d242688840ad66e23c600696758a358ad42a14c3e5ad20" } ], "qosClass": "Burstable" } }, { "metadata": { "name": "l7-default-backend-6f8697844f-2t958", "generateName": "l7-default-backend-6f8697844f-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/l7-default-backend-6f8697844f-2t958", "uid": "7bae5f3b-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "663", "creationTimestamp": "2019-06-11T18:55:30Z", "labels": { "k8s-app": "glbc", "name": "glbc", "pod-template-hash": "6f8697844f" }, "annotations": { "seccomp.security.alpha.kubernetes.io/pod": "docker/default" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "ReplicaSet", "name": "l7-default-backend-6f8697844f", "uid": "7baaf94f-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "default-token-gkccw", "secret": { "secretName": "default-token-gkccw", "defaultMode": 420 } } ], "containers": [ { "name": "default-http-backend", "image": "k8s.gcr.io/defaultbackend-amd64:1.5", "ports": [ { "containerPort": 8080, "protocol": "TCP" } ], "resources": { "limits": { "cpu": "10m", "memory": "20Mi" }, "requests": { "cpu": "10m", "memory": "20Mi" } }, "volumeMounts": [ { "name": "default-token-gkccw", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "livenessProbe": { "httpGet": { "path": "/healthz", "port": 8080, "scheme": "HTTP" }, "initialDelaySeconds": 30, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 3 }, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "default", "serviceAccount": "default", "nodeName": "gke-gokubia-default-pool-ed47b068-xm8s", "securityContext": {  }, "schedulerName": "default-scheduler", "tolerations": [ { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 } ], "priority": 0 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:46Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:02Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:02Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:45Z" } ], "hostIP": "10.166.0.46", "podIP": "10.20.1.4", "startTime": "2019-06-11T18:55:46Z", "containerStatuses": [ { "name": "default-http-backend", "state": { "running": { "startedAt": "2019-06-11T18:56:02Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/defaultbackend-amd64:1.5", "imageID": "docker-pullable://k8s.gcr.io/defaultbackend-amd64@sha256:4dc5e07c8ca4e23bddb3153737d7b8c556e5fb2f29c4558b7cd6e6df99c512c7", "containerID": "docker://eebb1e8b17949753e3b2cc9b5096c338ba30d53cbe73d9054f44cd3df17fd742" } ], "qosClass": "Guaranteed" } }, { "metadata": { "name": "metrics-server-v0.3.1-5b4d6d8d98-xw7vp", "generateName": "metrics-server-v0.3.1-5b4d6d8d98-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/metrics-server-v0.3.1-5b4d6d8d98-xw7vp", "uid": "92091967-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "750", "creationTimestamp": "2019-06-11T18:56:07Z", "labels": { "k8s-app": "metrics-server", "pod-template-hash": "5b4d6d8d98", "version": "v0.3.1" }, "annotations": { "scheduler.alpha.kubernetes.io/critical-pod": "", "seccomp.security.alpha.kubernetes.io/pod": "docker/default" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "ReplicaSet", "name": "metrics-server-v0.3.1-5b4d6d8d98", "uid": "9204a264-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "metrics-server-config-volume", "configMap": { "name": "metrics-server-config", "defaultMode": 420 } }, { "name": "metrics-server-token-p4ghc", "secret": { "secretName": "metrics-server-token-p4ghc", "defaultMode": 420 } } ], "containers": [ { "name": "metrics-server", "image": "k8s.gcr.io/metrics-server-amd64:v0.3.1", "command": [ "/metrics-server", "--metric-resolution=30s", "--kubelet-port=10255", "--deprecated-kubelet-completely-insecure=true" ], "ports": [ { "name": "https", "containerPort": 443, "protocol": "TCP" } ], "resources": { "limits": { "cpu": "43m", "memory": "55Mi" }, "requests": { "cpu": "43m", "memory": "55Mi" } }, "volumeMounts": [ { "name": "metrics-server-token-p4ghc", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" }, { "name": "metrics-server-nanny", "image": "k8s.gcr.io/addon-resizer:1.8.3", "command": [ "/pod_nanny", "--config-dir=/etc/config", "--cpu=40m", "--extra-cpu=0.5m", "--memory=35Mi", "--extra-memory=4Mi", "--threshold=5", "--deployment=metrics-server-v0.3.1", "--container=metrics-server", "--poll-period=300000", "--estimator=exponential", "--minClusterSize=5" ], "env": [ { "name": "MY_POD_NAME", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.name" } } }, { "name": "MY_POD_NAMESPACE", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "metadata.namespace" } } } ], "resources": { "limits": { "cpu": "100m", "memory": "300Mi" }, "requests": { "cpu": "5m", "memory": "50Mi" } }, "volumeMounts": [ { "name": "metrics-server-config-volume", "mountPath": "/etc/config" }, { "name": "metrics-server-token-p4ghc", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "metrics-server", "serviceAccount": "metrics-server", "nodeName": "gke-gokubia-default-pool-ed47b068-p4gt", "securityContext": {  }, "schedulerName": "default-scheduler", "tolerations": [ { "key": "CriticalAddonsOnly", "operator": "Exists" }, { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300 } ], "priorityClassName": "system-cluster-critical", "priority": 2000000000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:07Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:14Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:14Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:56:07Z" } ], "hostIP": "10.166.0.53", "podIP": "10.20.2.3", "startTime": "2019-06-11T18:56:07Z", "containerStatuses": [ { "name": "metrics-server", "state": { "running": { "startedAt": "2019-06-11T18:56:09Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/metrics-server-amd64:v0.3.1", "imageID": "docker-pullable://k8s.gcr.io/metrics-server-amd64@sha256:78938f933822856f443e6827fe5b37d6cc2f74ae888ac8b33d06fdbe5f8c658b", "containerID": "docker://be23ceb57317f347565275af2c06326bc0507cef8666b625ee28a70901e9026e" }, { "name": "metrics-server-nanny", "state": { "running": { "startedAt": "2019-06-11T18:56:10Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/addon-resizer:1.8.3", "imageID": "docker-pullable://k8s.gcr.io/addon-resizer@sha256:07353f7b26327f0d933515a22b1de587b040d3d85c464ea299c1b9f242529326", "containerID": "docker://2e73d06d3ac5a9648441a1b1c1e5153bd51a19a25f013c75da4024b3f3de3544" } ], "qosClass": "Burstable" } }, { "metadata": { "name": "prometheus-to-sd-9ddrw", "generateName": "prometheus-to-sd-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/prometheus-to-sd-9ddrw", "uid": "85098b31-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "604", "creationTimestamp": "2019-06-11T18:55:45Z", "labels": { "controller-revision-hash": "74558c4b56", "k8s-app": "prometheus-to-sd", "pod-template-generation": "1" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "DaemonSet", "name": "prometheus-to-sd", "uid": "7c82ee78-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "prometheus-to-sd-token-fhwjc", "secret": { "secretName": "prometheus-to-sd-token-fhwjc", "defaultMode": 420 } } ], "containers": [ { "name": "prometheus-to-sd", "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "command": [ "/monitor", "--source=kube-proxy:http://localhost:10249?whitelisted=sync_proxy_rules_latency_microseconds\u0026metricsPrefix=container.googleapis.com/internal/addons", "--source=kubelet:http://localhost:10255?whitelisted=docker_operations,docker_operations_errors,runtime_operations,runtime_operations_errors,rest_client_requests_total,storage_operation_duration_seconds,storage_operation_errors_total,run_podsandbox_duration_seconds,run_podsandbox_errors_total", "--stackdriver-prefix=container.googleapis.com/internal/nodes", "--api-override=https://monitoring.googleapis.com/" ], "resources": { "limits": { "cpu": "3m", "memory": "20Mi" }, "requests": { "cpu": "1m", "memory": "20Mi" } }, "volumeMounts": [ { "name": "prometheus-to-sd-token-fhwjc", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "nodeSelector": { "beta.kubernetes.io/os": "linux" }, "serviceAccountName": "prometheus-to-sd", "serviceAccount": "prometheus-to-sd", "nodeName": "gke-gokubia-default-pool-ed47b068-xm8s", "hostNetwork": true, "securityContext": {  }, "affinity": { "nodeAffinity": { "requiredDuringSchedulingIgnoredDuringExecution": { "nodeSelectorTerms": [ { "matchFields": [ { "key": "metadata.name", "operator": "In", "values": [ "gke-gokubia-default-pool-ed47b068-xm8s" ] } ] } ] } } }, "schedulerName": "default-scheduler", "tolerations": [ { "key": "CriticalAddonsOnly", "operator": "Exists" }, { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute" }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute" }, { "key": "node.kubernetes.io/disk-pressure", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/memory-pressure", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/unschedulable", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/network-unavailable", "operator": "Exists", "effect": "NoSchedule" } ], "priorityClassName": "system-node-critical", "priority": 2000001000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:46Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:54Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:54Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:45Z" } ], "hostIP": "10.166.0.46", "podIP": "10.166.0.46", "startTime": "2019-06-11T18:55:46Z", "containerStatuses": [ { "name": "prometheus-to-sd", "state": { "running": { "startedAt": "2019-06-11T18:55:52Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "imageID": "docker-pullable://k8s.gcr.io/prometheus-to-sd@sha256:14666989f40bb7c896c3e775a93c6873e2b791d65bc65579f58a078b7f9a764e", "containerID": "docker://75f5bc0b75396b17068fbd00fb93ed01f00ed9b426bfe26feb216a4bee59cd47" } ], "qosClass": "Burstable" } }, { "metadata": { "name": "prometheus-to-sd-p42vz", "generateName": "prometheus-to-sd-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/prometheus-to-sd-p42vz", "uid": "84f0dad7-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "3317787", "creationTimestamp": "2019-06-11T18:55:45Z", "labels": { "controller-revision-hash": "74558c4b56", "k8s-app": "prometheus-to-sd", "pod-template-generation": "1" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "DaemonSet", "name": "prometheus-to-sd", "uid": "7c82ee78-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "prometheus-to-sd-token-fhwjc", "secret": { "secretName": "prometheus-to-sd-token-fhwjc", "defaultMode": 420 } } ], "containers": [ { "name": "prometheus-to-sd", "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "command": [ "/monitor", "--source=kube-proxy:http://localhost:10249?whitelisted=sync_proxy_rules_latency_microseconds\u0026metricsPrefix=container.googleapis.com/internal/addons", "--source=kubelet:http://localhost:10255?whitelisted=docker_operations,docker_operations_errors,runtime_operations,runtime_operations_errors,rest_client_requests_total,storage_operation_duration_seconds,storage_operation_errors_total,run_podsandbox_duration_seconds,run_podsandbox_errors_total", "--stackdriver-prefix=container.googleapis.com/internal/nodes", "--api-override=https://monitoring.googleapis.com/" ], "resources": { "limits": { "cpu": "3m", "memory": "20Mi" }, "requests": { "cpu": "1m", "memory": "20Mi" } }, "volumeMounts": [ { "name": "prometheus-to-sd-token-fhwjc", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "nodeSelector": { "beta.kubernetes.io/os": "linux" }, "serviceAccountName": "prometheus-to-sd", "serviceAccount": "prometheus-to-sd", "nodeName": "gke-gokubia-default-pool-ed47b068-3fkm", "hostNetwork": true, "securityContext": {  }, "affinity": { "nodeAffinity": { "requiredDuringSchedulingIgnoredDuringExecution": { "nodeSelectorTerms": [ { "matchFields": [ { "key": "metadata.name", "operator": "In", "values": [ "gke-gokubia-default-pool-ed47b068-3fkm" ] } ] } ] } } }, "schedulerName": "default-scheduler", "tolerations": [ { "key": "CriticalAddonsOnly", "operator": "Exists" }, { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute" }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute" }, { "key": "node.kubernetes.io/disk-pressure", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/memory-pressure", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/unschedulable", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/network-unavailable", "operator": "Exists", "effect": "NoSchedule" } ], "priorityClassName": "system-node-critical", "priority": 2000001000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:45Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-24T20:29:17Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-24T20:29:17Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:45Z" } ], "hostIP": "10.166.0.52", "podIP": "10.166.0.52", "startTime": "2019-06-11T18:55:45Z", "containerStatuses": [ { "name": "prometheus-to-sd", "state": { "running": { "startedAt": "2019-06-24T20:29:17Z" } }, "lastState": { "terminated": { "exitCode": 255, "reason": "Error", "startedAt": "2019-06-11T18:55:51Z", "finishedAt": "2019-06-24T20:29:05Z", "containerID": "docker://1e9280861c60cf0a48159913264da35f785227cb0186f52fab8572c71a35b33f" } }, "ready": true, "restartCount": 1, "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "imageID": "docker-pullable://k8s.gcr.io/prometheus-to-sd@sha256:14666989f40bb7c896c3e775a93c6873e2b791d65bc65579f58a078b7f9a764e", "containerID": "docker://4f403dab7395726ebd600aa0215445615966671e3a1e6378f3c3b03c3d63ea4c" } ], "qosClass": "Burstable" } }, { "metadata": { "name": "prometheus-to-sd-v8jlw", "generateName": "prometheus-to-sd-", "namespace": "kube-system", "selfLink": "/api/v1/namespaces/kube-system/pods/prometheus-to-sd-v8jlw", "uid": "85335889-8c7a-11e9-9d8d-42010aa601ba", "resourceVersion": "607", "creationTimestamp": "2019-06-11T18:55:46Z", "labels": { "controller-revision-hash": "74558c4b56", "k8s-app": "prometheus-to-sd", "pod-template-generation": "1" }, "ownerReferences": [ { "apiVersion": "apps/v1", "kind": "DaemonSet", "name": "prometheus-to-sd", "uid": "7c82ee78-8c7a-11e9-9d8d-42010aa601ba", "controller": true, "blockOwnerDeletion": true } ] }, "spec": { "volumes": [ { "name": "prometheus-to-sd-token-fhwjc", "secret": { "secretName": "prometheus-to-sd-token-fhwjc", "defaultMode": 420 } } ], "containers": [ { "name": "prometheus-to-sd", "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "command": [ "/monitor", "--source=kube-proxy:http://localhost:10249?whitelisted=sync_proxy_rules_latency_microseconds\u0026metricsPrefix=container.googleapis.com/internal/addons", "--source=kubelet:http://localhost:10255?whitelisted=docker_operations,docker_operations_errors,runtime_operations,runtime_operations_errors,rest_client_requests_total,storage_operation_duration_seconds,storage_operation_errors_total,run_podsandbox_duration_seconds,run_podsandbox_errors_total", "--stackdriver-prefix=container.googleapis.com/internal/nodes", "--api-override=https://monitoring.googleapis.com/" ], "resources": { "limits": { "cpu": "3m", "memory": "20Mi" }, "requests": { "cpu": "1m", "memory": "20Mi" } }, "volumeMounts": [ { "name": "prometheus-to-sd-token-fhwjc", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount" } ], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent" } ], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "nodeSelector": { "beta.kubernetes.io/os": "linux" }, "serviceAccountName": "prometheus-to-sd", "serviceAccount": "prometheus-to-sd", "nodeName": "gke-gokubia-default-pool-ed47b068-p4gt", "hostNetwork": true, "securityContext": {  }, "affinity": { "nodeAffinity": { "requiredDuringSchedulingIgnoredDuringExecution": { "nodeSelectorTerms": [ { "matchFields": [ { "key": "metadata.name", "operator": "In", "values": [ "gke-gokubia-default-pool-ed47b068-p4gt" ] } ] } ] } } }, "schedulerName": "default-scheduler", "tolerations": [ { "key": "CriticalAddonsOnly", "operator": "Exists" }, { "key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute" }, { "key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute" }, { "key": "node.kubernetes.io/disk-pressure", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/memory-pressure", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/unschedulable", "operator": "Exists", "effect": "NoSchedule" }, { "key": "node.kubernetes.io/network-unavailable", "operator": "Exists", "effect": "NoSchedule" } ], "priorityClassName": "system-node-critical", "priority": 2000001000 }, "status": { "phase": "Running", "conditions": [ { "type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:46Z" }, { "type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:54Z" }, { "type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:54Z" }, { "type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2019-06-11T18:55:46Z" } ], "hostIP": "10.166.0.53", "podIP": "10.166.0.53", "startTime": "2019-06-11T18:55:46Z", "containerStatuses": [ { "name": "prometheus-to-sd", "state": { "running": { "startedAt": "2019-06-11T18:55:53Z" } }, "lastState": {  }, "ready": true, "restartCount": 0, "image": "k8s.gcr.io/prometheus-to-sd:v0.5.0", "imageID": "docker-pullable://k8s.gcr.io/prometheus-to-sd@sha256:14666989f40bb7c896c3e775a93c6873e2b791d65bc65579f58a078b7f9a764e", "containerID": "docker://a783ec24cf1b1a5993b62376548eb8660e8af01241174056d6735fc602becc06" } ], "qosClass": "Burstable" } } ] }
